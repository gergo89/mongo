This is a fork from the mongodb r2.5.5 branch for research purposes. The goal is to replace the v8 engnine with a JVM based engine (currently nashorn).

To compile the project you have to adapt the scons file (root dir/SConstruct) to your local environment. 

The configuration for the JVM begins at line 480 and ends at line 845. Currently it is configured for 64bit Windows. You have to change these 4 lines:

env.Append(CPPPATH = ['C:/Program Files/Java/jdk1.8.0/include'])
env.Append(CPPPATH = ['C:/Program Files/Java/jdk1.8.0/include/win32'])

env.Append(LIBPATH = ['C:/Program Files/Java/jdk1.8.0/lib/'])
env.Append(LIBS = ['C:/Program Files/Java/jdk1.8.0/lib/jvm.lib'])

The java class file (and the mongo-java-driver-2.12.2.jar file) supposed to be placed in the following directory (without further packages) with the following name:
  root dir/src/mongo/java/JniClass.class
  
The java file has to contain the following method: 
  public Object invokeFunctionNashorn(String code) {}
  